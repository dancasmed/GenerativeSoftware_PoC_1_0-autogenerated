{"id":"1f7ca1c7-b21d-4fe6-b100-1dc202eb75a3","object":"chat.completion","created":1743788358,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"source_code\": \"using System;\\nusing System.IO;\\nusing System.Text.Json;\\n\\npublic class TextAdventureGame : IGeneratedModule\\n{\\n    public string Name { get; set; } = \\\"Text Adventure Game\\\";\\n    \\n    private string _dataFolder;\\n    private GameState _gameState;\\n    \\n    public bool Main(string dataFolder)\\n    {\\n        _dataFolder = dataFolder;\\n        LoadGameState();\\n        \\n        Console.WriteLine(\\\"Welcome to the Text Adventure Game!\\\");\\n        Console.WriteLine(\\\"Navigate through the story by making choices.\\\");\\n        \\n        while (_gameState.CurrentSceneId != \\\"end\\\")\\n        {\\n            DisplayScene(_gameState.CurrentSceneId);\\n            ProcessChoice(GetPlayerChoice());\\n        }\\n        \\n        Console.WriteLine(\\\"Game Over. Thanks for playing!\\\");\\n        SaveGameState();\\n        return true;\\n    }\\n    \\n    private void LoadGameState()\\n    {\\n        string savePath = Path.Combine(_dataFolder, \\\"savedata.json\\\");\\n        \\n        if (File.Exists(savePath))\\n        {\\n            string json = File.ReadAllText(savePath);\\n            _gameState = JsonSerializer.Deserialize<GameState>(json);\\n        }\\n        else\\n        {\\n            _gameState = new GameState { CurrentSceneId = \\\"start\\\" };\\n        }\\n    }\\n    \\n    private void SaveGameState()\\n    {\\n        string savePath = Path.Combine(_dataFolder, \\\"savedata.json\\\");\\n        string json = JsonSerializer.Serialize(_gameState);\\n        File.WriteAllText(savePath, json);\\n    }\\n    \\n    private void DisplayScene(string sceneId)\\n    {\\n        var scene = GetScene(sceneId);\\n        Console.WriteLine(scene.Description);\\n        \\n        for (int i = 0; i < scene.Choices.Count; i++)\\n        {\\n            Console.WriteLine(i + 1 + \\\". \\\" + scene.Choices[i].Description);\\n        }\\n    }\\n    \\n    private int GetPlayerChoice()\\n    {\\n        while (true)\\n        {\\n            Console.Write(\\\"Enter your choice: \\\");\\n            string input = Console.ReadLine();\\n            \\n            if (int.TryParse(input, out int choice) && choice > 0 && choice <= GetScene(_gameState.CurrentSceneId).Choices.Count)\\n            {\\n                return choice - 1;\\n            }\\n            \\n            Console.WriteLine(\\\"Invalid choice. Please try again.\\\");\\n        }\\n    }\\n    \\n    private void ProcessChoice(int choiceIndex)\\n    {\\n        var currentScene = GetScene(_gameState.CurrentSceneId);\\n        _gameState.CurrentSceneId = currentScene.Choices[choiceIndex].NextSceneId;\\n    }\\n    \\n    private Scene GetScene(string sceneId)\\n    {\\n        return sceneId switch\\n        {\\n            \\\"start\\\" => new Scene\\n            {\\n                Description = \\\"You wake up in a dark forest. The path splits in two directions.\\\",\\n                Choices = new List<Choice>\\n                {\\n                    new Choice { Description = \\\"Go left towards the cave\\\", NextSceneId = \\\"cave\\\" },\\n                    new Choice { Description = \\\"Go right towards the river\\\", NextSceneId = \\\"river\\\" }\\n                }\\n            },\\n            \\\"cave\\\" => new Scene\\n            {\\n                Description = \\\"You enter a damp cave. There's a chest and a tunnel deeper in.\\\",\\n                Choices = new List<Choice>\\n                {\\n                    new Choice { Description = \\\"Open the chest\\\", NextSceneId = \\\"chest\\\" },\\n                    new Choice { Description = \\\"Go deeper into the tunnel\\\", NextSceneId = \\\"tunnel\\\" }\\n                }\\n            },\\n            \\\"river\\\" => new Scene\\n            {\\n                Description = \\\"You reach a fast-flowing river. There's a boat and a bridge.\\\",\\n                Choices = new List<Choice>\\n                {\\n                    new Choice { Description = \\\"Take the boat\\\", NextSceneId = \\\"boat\\\" },\\n                    new Choice { Description = \\\"Cross the bridge\\\", NextSceneId = \\\"bridge\\\" }\\n                }\\n            },\\n            \\\"chest\\\" => new Scene\\n            {\\n                Description = \\\"You find a treasure! The adventure ends here.\\\",\\n                Choices = new List<Choice>(),\\n            },\\n            \\\"tunnel\\\" => new Scene\\n            {\\n                Description = \\\"You get lost in the dark tunnel. Game over.\\\",\\n                Choices = new List<Choice>(),\\n            },\\n            \\\"boat\\\" => new Scene\\n            {\\n                Description = \\\"The boat capsizes! You drown. Game over.\\\",\\n                Choices = new List<Choice>(),\\n            },\\n            \\\"bridge\\\" => new Scene\\n            {\\n                Description = \\\"You safely cross the bridge and find civilization. You win!\\\",\\n                Choices = new List<Choice>(),\\n            },\\n            _ => new Scene\\n            {\\n                Description = \\\"The adventure has ended.\\\",\\n                Choices = new List<Choice>(),\\n            }\\n        };\\n    }\\n}\\n\\npublic class GameState\\n{\\n    public string CurrentSceneId { get; set; }\\n}\\n\\npublic class Scene\\n{\\n    public string Description { get; set; }\\n    public List<Choice> Choices { get; set; } = new List<Choice>();\\n}\\n\\npublic class Choice\\n{\\n    public string Description { get; set; }\\n    public string NextSceneId { get; set; }\\n}\",\n  \"name\": \"Text Adventure Game\",\n  \"description\": \"A text-based adventure game with multiple choices and branching storylines.\",\n  \"required_apis\": [],\n  \"required_nugets\": []\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":522,"completion_tokens":1358,"total_tokens":1880,"prompt_tokens_details":{"cached_tokens":512},"prompt_cache_hit_tokens":512,"prompt_cache_miss_tokens":10},"system_fingerprint":"fp_3d5141a69a_prod0225"}