{"id":"4f075246-bb60-4d09-a19f-40b6f195a3b9","object":"chat.completion","created":1743786470,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"source_code\": \"using System;\\nusing System.Collections.Generic;\\nusing System.IO;\\nusing System.Linq;\\nusing System.Text.Json;\\n\\npublic class MealPlannerModule : IGeneratedModule\\n{\\n    public string Name { get; set; } = \\\"Weekly Meal Planner\\\";\\n\\n    private List<Meal> _meals = new List<Meal>();\\n    private List<GroceryItem> _groceryList = new List<GroceryItem>();\\n\\n    public bool Main(string dataFolder)\\n    {\\n        Console.WriteLine(\\\"Weekly Meal Planner module is running...\\\");\\n\\n        try\\n        {\\n            string mealsFilePath = Path.Combine(dataFolder, \\\"meals.json\\\");\\n            string groceryListFilePath = Path.Combine(dataFolder, \\\"grocery_list.json\\\");\\n\\n            if (File.Exists(mealsFilePath))\\n            {\\n                string jsonData = File.ReadAllText(mealsFilePath);\\n                _meals = JsonSerializer.Deserialize<List<Meal>>(jsonData);\\n            }\\n            else\\n            {\\n                InitializeDefaultMeals();\\n                SaveMealsToFile(mealsFilePath);\\n            }\\n\\n            PlanWeeklyMeals();\\n            GenerateGroceryList();\\n            SaveGroceryListToFile(groceryListFilePath);\\n\\n            Console.WriteLine(\\\"Weekly meal plan and grocery list have been generated successfully.\\\");\\n            return true;\\n        }\\n        catch (Exception ex)\\n        {\\n            Console.WriteLine(\\\"An error occurred: \\\" + ex.Message);\\n            return false;\\n        }\\n    }\\n\\n    private void InitializeDefaultMeals()\\n    {\\n        _meals = new List<Meal>\\n        {\\n            new Meal { Name = \\\"Grilled Chicken Salad\\\", Calories = 450, Ingredients = new List<string> { \\\"Chicken Breast\\\", \\\"Lettuce\\\", \\\"Tomato\\\", \\\"Cucumber\\\", \\\"Olive Oil\\\" } },\\n            new Meal { Name = \\\"Vegetable Stir Fry\\\", Calories = 350, Ingredients = new List<string> { \\\"Broccoli\\\", \\\"Bell Peppers\\\", \\\"Carrots\\\", \\\"Soy Sauce\\\", \\\"Rice\\\" } },\\n            new Meal { Name = \\\"Spaghetti Bolognese\\\", Calories = 600, Ingredients = new List<string> { \\\"Spaghetti\\\", \\\"Ground Beef\\\", \\\"Tomato Sauce\\\", \\\"Onion\\\", \\\"Garlic\\\" } },\\n            new Meal { Name = \\\"Avocado Toast\\\", Calories = 300, Ingredients = new List<string> { \\\"Bread\\\", \\\"Avocado\\\", \\\"Eggs\\\", \\\"Salt\\\", \\\"Pepper\\\" } },\\n            new Meal { Name = \\\"Beef Tacos\\\", Calories = 500, Ingredients = new List<string> { \\\"Tortillas\\\", \\\"Ground Beef\\\", \\\"Cheese\\\", \\\"Lettuce\\\", \\\"Sour Cream\\\" } }\\n        };\\n    }\\n\\n    private void PlanWeeklyMeals()\\n    {\\n        Console.WriteLine(\\\"\\\\n=== Weekly Meal Plan ===\\\");\\n        var random = new Random();\\n        var daysOfWeek = new List<string> { \\\"Monday\\\", \\\"Tuesday\\\", \\\"Wednesday\\\", \\\"Thursday\\\", \\\"Friday\\\", \\\"Saturday\\\", \\\"Sunday\\\" };\\n\\n        foreach (var day in daysOfWeek)\\n        {\\n            var randomMeal = _meals[random.Next(_meals.Count)];\\n            Console.WriteLine(day + \\\": \\\" + randomMeal.Name + \\\" (\\\" + randomMeal.Calories + \\\" calories)\\\");\\n        }\\n    }\\n\\n    private void GenerateGroceryList()\\n    {\\n        Console.WriteLine(\\\"\\\\n=== Grocery List ===\\\");\\n        _groceryList.Clear();\\n\\n        foreach (var meal in _meals)\\n        {\\n            foreach (var ingredient in meal.Ingredients)\\n            {\\n                var existingItem = _groceryList.FirstOrDefault(item => item.Name.Equals(ingredient, StringComparison.OrdinalIgnoreCase));\\n                if (existingItem != null)\\n                {\\n                    existingItem.Quantity++;\\n                }\\n                else\\n                {\\n                    _groceryList.Add(new GroceryItem { Name = ingredient, Quantity = 1 });\\n                }\\n            }\\n        }\\n\\n        foreach (var item in _groceryList.OrderBy(item => item.Name))\\n        {\\n            Console.WriteLine(item.Name + \\\" (x\\\" + item.Quantity + \\\")\\\");\\n        }\\n    }\\n\\n    private void SaveMealsToFile(string filePath)\\n    {\\n        string jsonData = JsonSerializer.Serialize(_meals);\\n        File.WriteAllText(filePath, jsonData);\\n    }\\n\\n    private void SaveGroceryListToFile(string filePath)\\n    {\\n        string jsonData = JsonSerializer.Serialize(_groceryList);\\n        File.WriteAllText(filePath, jsonData);\\n    }\\n}\\n\\npublic class Meal\\n{\\n    public string Name { get; set; }\\n    public int Calories { get; set; }\\n    public List<string> Ingredients { get; set; }\\n}\\n\\npublic class GroceryItem\\n{\\n    public string Name { get; set; }\\n    public int Quantity { get; set; }\\n}\",\n  \"name\": \"Weekly Meal Planner\",\n  \"description\": \"A module that plans weekly meals with calorie counts and generates corresponding grocery lists.\",\n  \"required_apis\": [],\n  \"required_nugets\": []\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":521,"completion_tokens":1244,"total_tokens":1765,"prompt_tokens_details":{"cached_tokens":512},"prompt_cache_hit_tokens":512,"prompt_cache_miss_tokens":9},"system_fingerprint":"fp_3d5141a69a_prod0225"}