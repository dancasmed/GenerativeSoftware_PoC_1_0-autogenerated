{"id":"d4ae9689-7b6e-451c-be03-e45ea52882e2","object":"chat.completion","created":1743788121,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"source_code\": \"using System;\\nusing System.Collections.Generic;\\nusing System.IO;\\nusing System.Linq;\\nusing System.Text.Json;\\n\\npublic class MealPlannerModule : IGeneratedModule\\n{\\n    public string Name { get; set; } = \\\"Weekly Meal Planner\\\";\\n\\n    public bool Main(string dataFolder)\\n    {\\n        Console.WriteLine(\\\"Weekly Meal Planner module is running...\\\");\\n\\n        try\\n        {\\n            string mealsFilePath = Path.Combine(dataFolder, \\\"meals.json\\\");\\n            string groceryListFilePath = Path.Combine(dataFolder, \\\"grocery_list.json\\\");\\n\\n            if (!Directory.Exists(dataFolder))\\n            {\\n                Directory.CreateDirectory(dataFolder);\\n            }\\n\\n            List<Meal> weeklyMeals = GenerateWeeklyMeals();\\n            SaveMealsToFile(weeklyMeals, mealsFilePath);\\n\\n            List<GroceryItem> groceryList = GenerateGroceryList(weeklyMeals);\\n            SaveGroceryListToFile(groceryList, groceryListFilePath);\\n\\n            Console.WriteLine(\\\"Weekly meal plan and grocery list generated successfully.\\\");\\n            Console.WriteLine(\\\"Meals saved to: \\\" + mealsFilePath);\\n            Console.WriteLine(\\\"Grocery list saved to: \\\" + groceryListFilePath);\\n\\n            return true;\\n        }\\n        catch (Exception ex)\\n        {\\n            Console.WriteLine(\\\"Error occurred: \\\" + ex.Message);\\n            return false;\\n        }\\n    }\\n\\n    private List<Meal> GenerateWeeklyMeals()\\n    {\\n        var meals = new List<Meal>\\n        {\\n            new Meal { Day = \\\"Monday\\\", Name = \\\"Grilled Chicken Salad\\\", Calories = 450, Ingredients = new List<string> { \\\"Chicken Breast\\\", \\\"Mixed Greens\\\", \\\"Cherry Tomatoes\\\", \\\"Cucumber\\\", \\\"Olive Oil\\\" } },\\n            new Meal { Day = \\\"Tuesday\\\", Name = \\\"Vegetable Stir Fry\\\", Calories = 400, Ingredients = new List<string> { \\\"Broccoli\\\", \\\"Bell Peppers\\\", \\\"Carrots\\\", \\\"Tofu\\\", \\\"Soy Sauce\\\" } },\\n            new Meal { Day = \\\"Wednesday\\\", Name = \\\"Spaghetti Bolognese\\\", Calories = 600, Ingredients = new List<string> { \\\"Ground Beef\\\", \\\"Spaghetti\\\", \\\"Tomato Sauce\\\", \\\"Onion\\\", \\\"Garlic\\\" } },\\n            new Meal { Day = \\\"Thursday\\\", Name = \\\"Quinoa Bowl\\\", Calories = 500, Ingredients = new List<string> { \\\"Quinoa\\\", \\\"Avocado\\\", \\\"Black Beans\\\", \\\"Corn\\\", \\\"Lime\\\" } },\\n            new Meal { Day = \\\"Friday\\\", Name = \\\"Salmon with Roasted Vegetables\\\", Calories = 550, Ingredients = new List<string> { \\\"Salmon Fillet\\\", \\\"Asparagus\\\", \\\"Sweet Potatoes\\\", \\\"Lemon\\\" } },\\n            new Meal { Day = \\\"Saturday\\\", Name = \\\"Homemade Pizza\\\", Calories = 700, Ingredients = new List<string> { \\\"Pizza Dough\\\", \\\"Tomato Sauce\\\", \\\"Mozzarella\\\", \\\"Pepperoni\\\", \\\"Mushrooms\\\" } },\\n            new Meal { Day = \\\"Sunday\\\", Name = \\\"Beef Stew\\\", Calories = 650, Ingredients = new List<string> { \\\"Beef Chuck\\\", \\\"Potatoes\\\", \\\"Carrots\\\", \\\"Onion\\\", \\\"Beef Broth\\\" } }\\n        };\\n\\n        return meals;\\n    }\\n\\n    private List<GroceryItem> GenerateGroceryList(List<Meal> meals)\\n    {\\n        var allIngredients = meals.SelectMany(m => m.Ingredients).ToList();\\n        var groupedItems = allIngredients.GroupBy(i => i)\\n                                        .Select(g => new GroceryItem { Name = g.Key, Quantity = g.Count() + \\\" \\\" + GetMeasurementUnit(g.Key) })\\n                                        .ToList();\\n\\n        return groupedItems;\\n    }\\n\\n    private string GetMeasurementUnit(string ingredient)\\n    {\\n        if (ingredient.Contains(\\\"Oil\\\") || ingredient.Contains(\\\"Sauce\\\"))\\n            return \\\"bottles\\\";\\n        if (ingredient.Contains(\\\"Beef\\\") || ingredient.Contains(\\\"Chicken\\\") || ingredient.Contains(\\\"Salmon\\\") || ingredient.Contains(\\\"Tofu\\\"))\\n            return \\\"pieces\\\";\\n        if (ingredient.Contains(\\\"Greens\\\") || ingredient.Contains(\\\"Vegetables\\\"))\\n            return \\\"bundles\\\";\\n        return \\\"units\\\";\\n    }\\n\\n    private void SaveMealsToFile(List<Meal> meals, string filePath)\\n    {\\n        var options = new JsonSerializerOptions { WriteIndented = true };\\n        string json = JsonSerializer.Serialize(meals, options);\\n        File.WriteAllText(filePath, json);\\n    }\\n\\n    private void SaveGroceryListToFile(List<GroceryItem> groceryList, string filePath)\\n    {\\n        var options = new JsonSerializerOptions { WriteIndented = true };\\n        string json = JsonSerializer.Serialize(groceryList, options);\\n        File.WriteAllText(filePath, json);\\n    }\\n}\\n\\npublic class Meal\\n{\\n    public string Day { get; set; }\\n    public string Name { get; set; }\\n    public int Calories { get; set; }\\n    public List<string> Ingredients { get; set; }\\n}\\n\\npublic class GroceryItem\\n{\\n    public string Name { get; set; }\\n    public string Quantity { get; set; }\\n}\",\n  \"name\": \"Weekly Meal Planner\",\n  \"description\": \"A module that generates a weekly meal plan with calorie counts and creates a corresponding grocery list.\",\n  \"required_apis\": [],\n  \"required_nugets\": [\n    {\n      \"nuget_name\": \"System.Text.Json\",\n      \"nuget_version\": \"7.0.0\"\n    }\n  ]\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":521,"completion_tokens":1345,"total_tokens":1866,"prompt_tokens_details":{"cached_tokens":512},"prompt_cache_hit_tokens":512,"prompt_cache_miss_tokens":9},"system_fingerprint":"fp_3d5141a69a_prod0225"}